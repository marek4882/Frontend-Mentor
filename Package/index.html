<!DOCTYPE html>
<html lang="pl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Pakiety</title>
    <link rel="stylesheet" href="./style/style.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@splidejs/splide@3.6.12/dist/css/splide.min.css"
    />

    <script src="https://unpkg.com/@phosphor-icons/web"></script>
  </head>
  <body>
    <main>
      <section class="block">
        <div class="container grid">
          <header class="block block__header">
            <h1 class="block__heading">
              Zadbaj o Siebie i Znajdź swój
              <span class="header--color">Pakiet</span>!
            </h1>
            <p>
              Sprawdź dostępne pakiety badań diagnostycznych i wizyt lekarskich,
              które Kompleksowo pomogą Ci o Twoje Zdrowie jeśli nie znalazłeś
              tego czego szukasz. Skontaktuj się z nami stworzymy dla ciebie
              dedykowany Plan Analizy Zdrowia
            </p>
          </header>
        </div>
      </section>
      <section class="block container block-plans">
        <div id="splide" class="splide">
          <div class="splide__track">
            <ul class="splide__list">
              <li class="splide__slide">
                <div class="card card--gap">
                  <header class="card card__header">
                    <img
                      src="https://unimedica.com.pl/wp-content/uploads/2024/09/women.jpg"
                      class="img--header"
                      alt="women"
                    />
                    <h3 class="plan__name plan__name__women">
                      Opieka dla Kobiet
                    </h3>
                    <p class="plan__description">
                      Poczuj się świetnie każdego dnia. Wybierz swój pakiet!
                    </p>
                    <button
                      class="btn btn--block btn--women--packages"
                      onclick="showPackages('women', 'Opieka dla Kobiet')"
                    >
                      <i class="ph ph-magnifying-glass icon"></i>
                      Zobacz Pakiety
                    </button>
                  </header>
                </div>
              </li>
              <li class="splide__slide">
                <div class="card card--gap">
                  <header class="card card__header">
                    <img
                      src="https://unimedica.com.pl/wp-content/uploads/2024/09/men.jpg"
                      class="img--header"
                      alt="men"
                    />
                    <h3 class="plan__name plan__name__men">
                      Opieka dla Mężczyzn
                    </h3>

                    <p class="plan__description">
                      Poczuj się świetnie każdego dnia. Wybierz swój pakiet!
                    </p>
                    <button
                      class="btn btn--block btn--men--packages"
                      onclick="showPackages('men', 'Opieka dla Mężczyzn')"
                    >
                      <i class="ph ph-magnifying-glass icon"></i>
                      Zobacz Pakiety
                    </button>
                  </header>
                </div>
              </li>
              <li class="splide__slide">
                <div class="card card--gap">
                  <header class="card card__header">
                    <img
                      src="https://unimedica.com.pl/wp-content/uploads/2024/09/family.jpg"
                      class="img--header"
                      alt="family"
                    />
                    <h3 class="plan__name plan__name__family">
                      Opieka dla Rodzin
                    </h3>
                    <p class="plan__description">
                      Zadabaj o całą Rodziną razem z Nami. Wbierz swój pakiet!
                    </p>
                    <button
                      class="btn btn--block btn--family--packages"
                      onclick="showPackages('family', 'Opieka dla Rodzin')"
                    >
                      <i class="ph ph-magnifying-glass icon"></i>
                      Zobacz Pakiety
                    </button>
                  </header>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </section>
      <section id="packages" class="block container"></section>

      <section id="package-details" class="block container"></section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/@splidejs/splide@3.6.12/dist/js/splide.min.js"></script>
    <script>
      const allPackages = [
        {
          id: 1,
          name: "Strefa Kobiet",
          description:
            "Zbadaj o Swoją Kobiecość i ciesz się dobrym samopoczuciem.",
          btn: "btn--women--zone--package",
          color: "#e88f8b",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/09/gynegolocy_icon_40x40.png",
          packageDetails: [
            {
              header: "Pakiet Dorosła Kobieta",
              // subheader: "Dorosła Kobieta",
              price: 579,
              currency: "zł",
              services: [
                "Konsultacja Specjalisty Ginekologa",
                "Badanie Ginekologiczne",
                "USG Ginekologiczne",
                "Cytologia",
                "Fizjoterapia Uroginekologiczna",
              ],
            },
            {
              header: "Pakiet Młoda Kobieta",
              // subheader: "Młoda Kobieta",
              specificInfo: "Do 25 roku życia",
              price: 529,
              currency: "zł",
              services: [
                "Konsultacja Specjalisty Ginekologa",
                "USG Ginekologiczne",
                "USG Piersi",
                "Cytologia",
              ],
            },
            {
              header: "Pakiet Piękno",
              specificInfo: "Piękna i Zdrowa Twarz",
              price: 350,
              currency: "zł",
              services: [
                "Konsultacja Dermatologiczna",
                "Konsultacja Trychologiczna",
                "Stworzenia Planu Zabiegowego",
              ],
            },
          ],
        },
        {
          id: 2,
          name: "Pakiet Endokrynologiczny",
          description:
            "Zadbaj o Siebie i Bliskich - Poznaj Nasze Pakiety Badań.",
          btn: "btn--endocrinology--package",
          color: "#BE6B98",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/09/strefa_kobiet_icon_40x40.png",
          packageDetails: [
            {
              header: "Pakiet Podstawowy",
              price: 659,
              currency: "zł",
              services: [
                "USG Tarczycy",
                "Badanie Hormonów (TSH, FT3, FT4)",
                "Konsultacja Endokrynologiczna",
              ],
            },
            {
              header: "Pakiet rozszerzony",
              price: 1009,
              currency: "zł",
              services: [
                "USG Tarczycy",
                "Badanie Hormonów (TSH, FT3, FT4)",
                "Konsultacja Endokrynologiczna",
                "Biopsja Tarczycy",
              ],
            },
            {
              header: "Pakiet Premium   ",
              price: 1509,
              currency: "zł",
              services: [
                "USG Tarczycy",
                "Badanie Hormonów (TSH, FT3, FT4)",
                "Konsultacja Endokrynologiczna",
                "Biopsja Tarczycy",
                "Konsultacja Chirurga Endokrynologicznego",
              ],
            },
          ],
        },
        {
          id: 3,
          name: "Pakiet Kardiologiczny",
          description: "Zadbaj o Swoje Serce i ciesz się długim Życiem.",
          btn: "btn--cardiologic--package",
          color: "#DF1D28",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/09/cardiologic_icon_40x40.png",
          packageDetails: [
            {
              header: "Pakiet Kardiologiczny",
              price: 1309,
              currency: "zł",
              services: [
                "Konsultacja Kardiologiczna",
                "Echo Serca",
                "EKG Wysiłkowe",
                "EKG Spoczynkowe",
                "Holter EKG",
                "Holter ABPM",
              ],
            },
            {
              header: "Pakiet Kardiologiczny Premium",
              price: 1609,
              currency: "zł",
              services: [
                "Konsultacja Kardiologiczna",
                "Echo Serca",
                "EKG Wysiłkowe",
                "EKG Spoczynkowe",
                "Holter Premium Life",
                "Holter ABPM",
                "USG Tętnic Szyjnych",
              ],
            },
          ],
        },
        {
          id: 4,
          name: "Pakiet Ginekologiczny",
          description: "Zadbaj o Swoje Zdrowie i dobre samopoczucie. ",
          btn: "btn--gynecology--package",
          color: "#F2BAB8",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/09/strefa_kobiet_icon_40x40.png",
          packageDetails: [
            {
              header: "Pakiet Ginekologiczny",
              price: 759,
              currency: "zł",
              services: [
                "Konsultacja Ginekologiczna",
                "Badanie Ginekologiczne",
                "USG Ginekologiczny",
                "USG Piersi",
                "Cytologia",
              ],
            },
            {
              header: "Pakiet Ginekologcziny Premium",
              price: 809,
              currency: "zł",
              services: [
                "Konsultacja Ginekologiczna",
                "Badanie Ginekologiczne",
                "USG Ginekologiczny",
                "USG Piersi",
                "Cytologia LBC",
              ],
            },
          ],
        },
        {
          id: 5,
          name: "Pakiet Covid",
          description:
            "Zadbaj o Siebie i Bliskich - Poznaj Nasze Pakiety Badań.",
          btn: "btn--covid--package",
          color: "#97D1CE",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/09/covid_icon_40x40.png",
          packageDetails: [
            {
              header: "Pakiet Covid I",
              price: 809,
              currency: "zł",
              services: [
                "Konsultacja Pulmonologiczna",
                "Konsultacja Kardiologiczna",
                "Echo Serca",
                "EKG",
              ],
            },
            {
              header: "Pakiet Covid II",
              price: 1309,
              currency: "zł",
              services: [
                "Konsultacja Pulmonologiczna",
                "Konsultacja Kardiologiczna",
                "Echo Serca",
                "EKG",
                "Próba Wysiłkowa",
                "USG Brzucha",
              ],
            },
            {
              header: "Pakiet Covid III",
              price: 1509,
              currency: "zł",
              services: [
                "Konsultacja Pulmonologiczna",
                "Konsultacja Kardiologiczna",
                "Echo Serca",
                "EKG",
                "Próba Wysiłkowa",
                "USG Brzucha",
                "Przeciwciała",
              ],
            },
          ],
        },
        {
          id: 6,
          name: "Pakiet Superman",
          description:
            "Zadbaj o Siebie i Bliskich - Poznaj Nasze Pakiety Badań.",
          btn: "btn--superman--package",
          color: "#f3c600",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/12/super_man.webp",
          packageDetails: [
            {
              header: "Pakiet Superman",
              price: 300,
              currency: "zł",
              services: ["Konsultacja Urologiczna", "PSA"],
            },
          ],
        },
        {
          id: 7,
          name: "Pakiet Iron Man",
          description:
            "Zadbaj o Siebie i Bliskich - Poznaj Nasze Pakiety Badań.",
          btn: "btn--ironman--package",
          color: "#a50318",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2024/12/iron_man.webp",
          packageDetails: [
            {
              header: "Pakiet Iron Man",
              price: 309,
              currency: "zł",
              services: ["Konsultacja Kardiologiczna", "Echo Serca", "EKG"],
            },
          ],
        },
        {
          id: 8,
          name: "Pakiet Zdrowe Serce",
          description:
            "Zadbaj o Siebie i Bliskich - Poznaj Nasze Pakiety Badań.",
          btn: "btn--zdrowe--serce",
          color: "#b40219",
          picture:
            "https://unimedica.com.pl/wp-content/uploads/2025/01/simple-logo-for-Pakiet-Zdrowe-Serce-kopia.png",
          packageDetails: [
            {
              header: "Pakiet Zdrowe Serce",
              price: 429,
              currency: "zł",
              services: ["Konsultacja Kardiologiczna", "Echo Serca", "EKG"],
            },
          ],
        },
      ];

      const categories = {
        women: [1, 2, 3, 4, 5],
        men: [3, 5, 6, 7],
        family: [1, 2, 3, 4, 5, 6, 7, 8],
      };

      function showPackages(category, planName) {
        const packagesDetailsContainer =
          document.getElementById("package-details");

        packagesDetailsContainer.style.display = "none";

        const packagesContainer = document.getElementById("packages");
        packagesContainer.innerHTML = "";

        if (!categories[category]) {
          console.error(`Category "${category}" not found.`);
          return;
        }

        const selectedPackages = allPackages.filter((pkg) =>
          categories[category].includes(pkg.id)
        );

        packagesContainer.innerHTML = `
            <header class="block__header">
              <h2 class="block__heading block__gap" >${planName}</h2>
            </header>

            <div id="splide-packages" class="splide">
              <div class="splide__track">
                <ul class="splide__list">
                  ${selectedPackages
                    .map(
                      (pkg) => `
                        <li class="splide__slide">
                          <div class="plan package">
                            <picture class="grid grid__center" data-package-id="${pkg.id}">
                              <img src="${pkg.picture}" class="icon" alt="${pkg.name}" />
                              <h3 class="plan__name" style="color: ${pkg.color};">${pkg.name}</h3>
                              <button class="btn btn--block ${pkg.btn}" data-package-id="${pkg.id}">
                                <i class="ph ph-magnifying-glass icon"></i>Zobacz Szczegóły
                              </button>
                            </picture>
                          </div>
                        </li>
                      `
                    )
                    .join("")}
                </ul>
              </div>
            </div>
          `;

        // Initialize Splide.js for the packages
        new Splide("#splide-packages", {
          type: "loop",
          perPage: 3,
          perMove: 1,
          focus: "center",
          autoplay: true,
          interval: 3000,
          breakpoints: {
            768: {
              perPage: 1,
            },
            1024: {
              perPage: 2,
            },
          },
        }).mount();

        packagesContainer.scrollIntoView({ behavior: "smooth" });

        const buttons = packagesContainer.querySelectorAll(".btn");
        buttons.forEach((button) => {
          button.addEventListener("click", function () {
            const packageId = parseInt(this.getAttribute("data-package-id"));
            const selectedPackage = allPackages.find(
              (pkg) => pkg.id === packageId
            );
            if (selectedPackage) {
              showPackageDetails(selectedPackage);
              packagesContainer.scrollTo({
                top: packagesContainer.querySelector("block__header").offsetTop,
                behavior: "smooth",
              });
            }
          });
        });
      }

      function showPackageDetails(pkg) {
        const packageDetails = document.getElementById("package-details");

        packageDetails.style.display = "block";

        const isSingleDetail = pkg.packageDetails.length === 1;

        packageDetails.innerHTML = `
        <header class="block__header">
          <h2 class="block__heading block__gap" style="color: ${pkg.color};">${
          pkg.name
        }</h2>
          <p>${pkg.description}</p>
        </header>
        <div id="splide-package-details" class="splide ${
          isSingleDetail ? "single-package-detail" : ""
        }">
          <div class="splide__track">
            <ul class="splide__list">
              ${pkg.packageDetails
                .map(
                  (detail) => `
                    <li class="splide__slide">
                      <div class="plan">
                        <div class="card card--secondary">
                          <header class="card__header">
                            <h3 style="color: ${pkg.color};">${
                    detail.header
                  }</h3>
                            ${
                              detail.subheader
                                ? `<h4 class="plan__subheader">${detail.subheader}</h4>`
                                : ""
                            }
                            ${
                              detail.specificInfo
                                ? `<p class="plan__specific__info"><em>${detail.specificInfo}</em></p>`
                                : ""
                            }
                            <p class="plan__price">${detail.price} ${
                    detail.currency
                  }</p>
                          </header>
                          <div class="card__body">
                            <ul class="list list--tick">
                              ${detail.services
                                .map(
                                  (service) =>
                                    `<li class="list__item">${service}</li>`
                                )
                                .join("")}
                            </ul>
                            <a href="https://unimedica.com.pl/kontakt/" class="btn btn--block ${
                              pkg.btn
                            }">
                              <i class="ph ph-basket icon"></i>Zamów Pakiet
                            </a>
                          </div>
                        </div>
                      </div>
                    </li>
                  `
                )
                .join("")}
            </ul>
          </div>
        </div>
      `;
        const header = packageDetails.querySelector(".block__heading");

        packageDetails.scrollIntoView({ behavior: "smooth" });

        if (header) {
          header.scrollTo({
            top: packageDetails.querySelector(".block__header").offsetTop,
            behavior: "smooth",
            start: "block",
          });
        }
        // Initialize Splide.js for the package details
        new Splide("#splide-package-details", {
          type: isSingleDetail ? "fade" : "loop",
          perPage: isSingleDetail ? 1 : 3,
          perMove: 1,
          focus: "center",
          autoplay: true,
          interval: 3000,
          breakpoints: {
            768: {
              perPage: isSingleDetail ? 1 : 1,
            },
            1024: {
              perPage: isSingleDetail ? 1 : 2,
            },
          },
        }).mount();
      }
      document.addEventListener("DOMContentLoaded", function () {
        new Splide("#splide", {
          type: "loop",
          perPage: 3,
          perMove: 1,
          focus: "center",
          autoplay: true,
          interval: 3000,
          breakpoints: {
            768: {
              perPage: 1,
            },
            1024: {
              perPage: 2,
            },
          },
        }).mount();
      });
    </script>
  </body>
</html>
